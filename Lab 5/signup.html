<!DOCTYPE html>
<html>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <head>
    <meta charset="utf-8">
    <title>Register Here</title>
  </head>
  <body>
    <h3>Register:</h3>
    <input type="text" id="usernameInput" name="usernameInput" placeholder="Username"><div id="usernameDiv"></div><br>
    <input type="password" id="passwordInput" name="passwordInput" placeholder="Password"><div id="passDiv"></div><br>  </body>
    <input type="password" id="passwordConfirm" name="passwordInput" placeholder="Confirm Password"><div id="passDiv"></div><br>  </body>
    <input type="button" id="registerButton" name="registerButton" value="Register"><div id="registerDiv"></div>
    <div id="errorDiv"></div>

    <script type="text/javascript">
      var btn = document.getElementById("registerButton");
      btn.onclick = function() {
        username = document.getElementById("usernameInput").value;
        pass1 = document.getElementById("passwordInput").value;
        pass2 = document.getElementById("passwordConfirm").value;
        if(pass1 == pass2){
          $(document).ready(function() {
            $.ajax({
                url:"signup.php", //the page containing php script
                type: "post", //request type,
                dataType: 'html',
                data: {username: username, password: pass1},
                success: function() {
                  window.location.href = "index.html";
                  //console.log(data);
               }
             });
          })
        }
        else{
          errorDiv = document.getElementById("errorDiv");
          var message = document.createTextNode("Passwords Don't Match");
          if(errorDiv.hasChildNodes()){
      			errorDiv.removeChild(errorDiv.childNodes[0]);
      			errorDiv.appendChild(message);
      		}else{
      			errorDiv.appendChild(message);
      		}
        }

      }
    </script>
  </body>
</html>
